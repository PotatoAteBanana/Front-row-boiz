mypackages <- c("tidyverse", "readxl", "Hmisc")



for (p in mypackages){
  if (!require(p, character.only = TRUE)) {
    install.packages(p)
    library(p, character.only = TRUE)
  }
}

controls <- read_csv("D:ADA/Controls.csv")
cases <- read_csv("D:ADA/cases.csv", col_names=names(controls))

#cases <- mutate(cases, menop = as.numeric(menop))

cases <- mutate(cases, 
                menop = case_when(menop=="N" ~ "1",
                                  menop=="Y" ~ "2",
                                  TRUE ~ menop),
                menop = as.numeric(menop))

count(cases, menop) > count(controls, menop)

#specification: character is string. double is number, when combine use bind_rows(table1, table2)
#MAKE SURE the col names are the same
#or just in cases: col_names=FALSE, and names(cases)=names(controls)

pop_7117 <- rbind(controls, cases)

#%>% is read as "then"

pop_7117

count(pop_7117, menop)

pop_7117 = mutate(pop_7117,
                  fa = pufa +sfa,
                  log_fa = log(fa))
