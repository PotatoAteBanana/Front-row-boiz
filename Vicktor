mypackages <- c("tidyverse", "readxl", "Hmisc")



for (p in mypackages){
  if (!require(p, character.only = TRUE)) {
    install.packages(p)
    library(p, character.only = TRUE)
  }
}

controls <- read_csv("D:ADA/Controls.csv")
cases <- read_csv("D:ADA/cases.csv", col_names=names(controls))

#cases <- mutate(cases, menop = as.numeric(menop))

cases <- mutate(cases, 
                menop = case_when(menop=="N" ~ "1",
                                  menop=="Y" ~ "2",
                                  TRUE ~ menop),
                menop = as.numeric(menop))

count(cases, menop) > count(controls, menop)

#%>% is read as "then"



#specification: character is string. double is number, when combine use bind_rows(table1, table2)
#MAKE SURE the col names are the same
#or just in cases: col_names=FALSE, and names(cases)=names(controls)

pop_7117 <- rbind(controls, cases)


controls = mutate(controls,
                  fa = pufa +sfa)

#controls <-controls %>%
 # bind_rows(cases)
  #mutate(fa=pufa+sfa) %>%
  #rename (fatty_acid = fa)

controls <- controls %>%
  rename(fatty_acids = fa)


#create a variable with age in categories
controls <- controls %>%
  mutate(age_gp = cut(age, breaks = c(10,30,40,50,60,80,Inf), labels=FALSE, right=FALSE))
